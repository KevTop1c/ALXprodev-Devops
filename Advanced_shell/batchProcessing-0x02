#!/bin/bash

# Pokémon Batch Data Retriever
POKEMON_LIST=("bulbasaur" "ivysaur" "venusaur" "charmander" "charmeleon")
API_BASE_URL="https://pokeapi.co/api/v2/pokemon/"
DELAY=2 

# Create directory for Pokémon data
mkdir -p pokemon_data

# Fetch data for each Pokémon
for pokemon in "${POKEMON_LIST[@]}"; do
    echo "Fetching data for $pokemon..."

    if curl -s --fail "${API_BASE_URL}/${pokemon}" > "pokemon_data/${pokemon}.json"; then
        echo "Saved data to pokemon_data/${pokemon}.json ✅"
    else
        echo "Failed to fetch $pokemon"
        rm -f "pokemon_data/${pokemon}.json"
    fi

    # Add delay between requests (except after the last one)
    count=$((count + 1))
    if [ $count -lt ${#POKEMON_LIST[@]} ]; then
        sleep "$DELAY"
    fi
done